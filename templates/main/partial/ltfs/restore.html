<div ng:hide="ltfsRestorer.queue.length" class="text-center">
    <h1 class="text-center"><i class="fa fa-shopping-cart"></i></h1>
    The restore list is empty. Select some files for restore on the <a href="/ltfs/search">Search</a> page first.
</div>

<div ng:show="ltfsRestorer.queue.length">
    <div class="form-horizontal">
        <div class="form-group">
            <label class="col-sm-2 control-label">Job name</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" required ng:model="ltfsRestorer.job.name" />
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-2 control-label">Destination</label>
            <div class="col-sm-10">
                <elementspathselector absolute-path="ltfsRestorer.job.destination" />
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-2 control-label"></label>
            <div class="col-sm-10">
                <span ng:model="ltfsRestorer.job.export" class="form-control" checkbox text="Export tape"></span>
            </div>
        </div>
    </div>

    <h4>Files queued for restore</h4>

    <p>
        <filterbox ng:model="rqfilter" />
    </p>

    <p>
        <table class="slide table table-bordered">
            <tr ng:repeat="file in ltfsRestorer.queue | filter:rqfilter">
                <td style="width: 20%">
                    <i class="fa fa-barcode"></i> [[file.tape_name]]
                </td>
                <td>
                    [[file.path]]
                </td>
                <td>
                    [[file.length|bytes]]
                </td>
                <td width="1">
                    <a ng:click="ltfsRestorer.queue.splice($index, 1)" class="btn btn-danger btn-ink btn-sm">
                        <i class="fa fa-times"></i> Remove
                    </a>
                </td>
            </tr>
        </table>
    </p>

    <h4>Exclude rules</h4>
    <p>
        <table class="slide table table-bordered">
            <tr ng:repeat="file in ltfsRestorer.excludeList">
                <td>
                    [[file]]
                </td>
                <td width="1">
                    <a ng:click="ltfsRestorer.excludeList.splice($index, 1)" class="btn btn-danger btn-ink btn-sm">
                        <i class="fa fa-times"></i> Remove
                    </a>
                </td>
            </tr>
        </table>
    </p>

    <div class="form-inline">
        <input ng:enter="ltfsRestorer.excludeList.push(newExcludeRule); newExcludeRule = ''" type="text" class="form-control" placeholder="New rule" ng:model="newExcludeRule" />
        <a ng:click="ltfsRestorer.excludeList.push(newExcludeRule); newExcludeRule = ''" class="btn btn-default"><i class="fa fa-plus"></i> Add</a>
    </div>
</div>


<div class="sticky-panel" ng:show="ltfsRestorer.queue.length">
    <a ng:click="start()" class="btn btn-primary" ng:show="ltfsRestorer.queue.length"><i class="fa fa-history"></i> Start restore</a>
    &nbsp;
    <a ng:click="ltfsRestorer.clear()" class="btn btn-default" ng:show="ltfsRestorer.queue.length"><i class="fa fa-times"></i> Clear</a>
</div>