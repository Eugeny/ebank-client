<div class="form-horizontal">
    <div class="form-group">
        <label class="col-sm-2 control-label">Name</label>
        <div class="col-sm-10">
            <input ng:model="criterion.name" class="form-control" type="text" />
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">Source</label>
        <div class="col-sm-10">
            <elementspathselector volume="criterion.source_volume" path="criterion.source_path" />
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">Root block type</label>
        <div class="col-sm-10">
            <div class="btn-group">
                <a ng:model="config.type" class="btn btn-default" btn-radio="'and'">
                    AND
                </a>
                <a ng:model="config.type" class="btn btn-default" btn-radio="'or'">
                    OR
                </a>
            </div>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">Condition</label>
        <div class="col-sm-10">
            <ng:include src="'/template/main/partial/tiering/criterion-config.html'" />
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label"></label>
        <div class="col-sm-10">
            <a ng:click="test()" class="btn btn-default" ng:disabled="testResultLoading">
                <i class="fa fa-search"></i>
                Test this filter
                &nbsp;<i class="fa fa-spin fa-circle-o-notch" ng:show="testResultLoading"></i>
            </a>
            <div ng:show="testResult">
                <h4>[[testResult.length]] results</h4>
                
                <p class="input-group icon-inline">
                    <span class="input-group-addon">
                        <i class="fa fa-search"></i>
                    </span>
                    <filterbox ng:model="testResultFilter" />
                </p>

                <table class="table">
                    <tr ng:repeat="x in testResult|filter:testResultFilter" bindonce>
                        <td bo:text="x"></td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>


<div class="sticky-panel">
    <a ng:click="save()" class="btn btn-primary">
        <i class="fa fa-check"></i>
        Save
    </a>
    <a ng:click="delete()" class="btn btn-default">
        <i class="fa fa-trash-o"></i>
        Delete
    </a>
</div>